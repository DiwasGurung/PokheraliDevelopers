{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ASUS\\\\OneDrive\\\\Desktop\\\\Test\\\\PokheraliDevelopers\\\\pokherali-developers\\\\src\\\\components\\\\Cart.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { Trash2, ShoppingCart, ChevronRight, Plus, Minus, AlertTriangle, CheckCircle } from \"lucide-react\";\nimport { UserContext } from \"../contexts/UserContext\";\nimport { CartContext } from \"../contexts/CartContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Cart() {\n  _s();\n  const {\n    user\n  } = useContext(UserContext);\n  const {\n    cartItems,\n    updateCartItemQuantity,\n    removeItem,\n    clearCart\n  } = useContext(CartContext);\n  const navigate = useNavigate();\n  const [checkoutStep, setCheckoutStep] = useState(1); // 1: Cart, 2: Shipping, 3: Payment, 4: Confirmation\n  const [shippingInfo, setShippingInfo] = useState({\n    address: \"\",\n    city: \"\",\n    state: \"\",\n    zipCode: \"\"\n  });\n  const [paymentMethod, setPaymentMethod] = useState(\"credit-card\");\n  const [isLoading, setIsLoading] = useState(false);\n  const [orderComplete, setOrderComplete] = useState(false);\n  const [orderDetails, setOrderDetails] = useState(null);\n  const [error, setError] = useState(\"\");\n\n  // Populate shipping info from user profile if available\n  useEffect(() => {\n    if (user) {\n      setShippingInfo({\n        address: user.address || \"\",\n        city: user.city || \"\",\n        state: user.state || \"\",\n        zipCode: user.zipCode || \"\"\n      });\n    }\n  }, [user]);\n\n  // Calculate totals and discounts\n  const calculateTotals = () => {\n    const itemCount = cartItems.reduce((total, item) => total + (item.quantity || 0), 0);\n    const subtotal = cartItems.reduce((sum, item) => sum + (item.bookPrice || 0) * (item.quantity || 0), 0);\n\n    // Calculate volume discount (5% for 5+ books)\n    const volumeDiscountEligible = itemCount >= 5;\n    const volumeDiscount = volumeDiscountEligible ? subtotal * 0.05 : 0;\n\n    // Calculate loyalty discount (10% for users with 10+ successful orders)\n    const loyaltyDiscountEligible = user && user.successfulOrderCount >= 10;\n    const loyaltyDiscount = loyaltyDiscountEligible ? subtotal * 0.1 : 0;\n    const totalDiscount = volumeDiscount + loyaltyDiscount;\n    const shipping = subtotal > 0 ? 5.99 : 0;\n    const finalTotal = subtotal - totalDiscount + shipping;\n    return {\n      itemCount,\n      subtotal,\n      volumeDiscountEligible,\n      volumeDiscount,\n      loyaltyDiscountEligible,\n      loyaltyDiscount,\n      totalDiscount,\n      shipping,\n      finalTotal\n    };\n  };\n  const totals = calculateTotals();\n  const handleShippingSubmit = e => {\n    e.preventDefault();\n\n    // Validate shipping info\n    if (!shippingInfo.address.trim()) {\n      setError(\"Address is required\");\n      return;\n    }\n    if (!shippingInfo.city.trim()) {\n      setError(\"City is required\");\n      return;\n    }\n    if (!shippingInfo.state.trim()) {\n      setError(\"State is required\");\n      return;\n    }\n    if (!shippingInfo.zipCode.trim()) {\n      setError(\"ZIP code is required\");\n      return;\n    }\n    setError(\"\");\n    setCheckoutStep(3); // Move to payment step\n  };\n  const handlePaymentSubmit = e => {\n    e.preventDefault();\n    processOrder();\n  };\n  const processOrder = async () => {\n    if (cartItems.length === 0) return;\n    if (!user) {\n      navigate('/login', {\n        state: {\n          redirectTo: '/cart'\n        }\n      });\n      return;\n    }\n    setIsLoading(true);\n    setError(\"\");\n    try {\n      // Prepare order items\n      const items = cartItems.map(item => ({\n        bookId: item.bookId,\n        quantity: item.quantity\n      }));\n\n      // Prepare order data\n      const orderData = {\n        shippingAddress: shippingInfo.address,\n        shippingCity: shippingInfo.city,\n        shippingState: shippingInfo.state,\n        shippingZipCode: shippingInfo.zipCode,\n        paymentMethod: paymentMethod,\n        items: items\n      };\n\n      // Submit order to API\n      const response = await fetch('https://localhost:7126/api/Orders', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(orderData),\n        credentials: 'include' // Include cookies for authentication\n      });\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.message || 'Failed to place order');\n      }\n      const orderResult = await response.json();\n      setOrderDetails(orderResult);\n      setOrderComplete(true);\n      clearCart();\n      setCheckoutStep(4); // Move to confirmation step\n    } catch (err) {\n      setError(err.message || 'An error occurred while placing your order');\n      console.error('Order error:', err);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const renderCart = () => {\n    if (cartItems.length === 0) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center py-8\",\n        children: [/*#__PURE__*/_jsxDEV(ShoppingCart, {\n          size: 48,\n          className: \"mx-auto text-gray-300 mb-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-medium text-gray-900 mb-2\",\n          children: \"Your cart is empty\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-500 mb-4\",\n          children: \"Looks like you haven't added any books to your cart yet.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('/browse'),\n          className: \"inline-block bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors\",\n          children: \"Browse Books\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 9\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl font-semibold mb-4\",\n        children: [\"Your Cart (\", totals.itemCount, \" items)\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-red-50 text-red-600 p-3 rounded-lg mb-4\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"divide-y divide-gray-200\",\n        children: cartItems.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"py-4 flex items-start gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-20 h-24 bg-gray-100 rounded overflow-hidden\",\n            children: item.bookImageUrl ? /*#__PURE__*/_jsxDEV(\"img\", {\n              src: item.bookImageUrl,\n              alt: item.bookTitle,\n              className: \"w-full h-full object-cover\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-full h-full flex items-center justify-center bg-gray-200\",\n              children: /*#__PURE__*/_jsxDEV(ShoppingCart, {\n                size: 24,\n                className: \"text-gray-400\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 190,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-medium text-gray-900\",\n              children: item.bookTitle || \"Untitled Book\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-500\",\n              children: item.bookAuthor || \"Unknown Author\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center mt-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => updateCartItemQuantity(item.id, item.quantity - 1),\n                disabled: item.quantity <= 1,\n                className: `w-8 h-8 flex items-center justify-center border rounded-md ${item.quantity <= 1 ? 'bg-gray-100 text-gray-400' : 'bg-white text-gray-600 hover:bg-gray-50'}`,\n                children: /*#__PURE__*/_jsxDEV(Minus, {\n                  size: 16\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 206,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"mx-3 font-medium\",\n                children: item.quantity || 0\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 208,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => updateCartItemQuantity(item.id, item.quantity + 1),\n                disabled: item.quantity >= 10,\n                className: \"w-8 h-8 flex items-center justify-center border rounded-md bg-white text-gray-600 hover:bg-gray-50\",\n                children: /*#__PURE__*/_jsxDEV(Plus, {\n                  size: 16\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 214,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-right\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"font-medium text-gray-900\",\n              children: [\"$\", ((item.bookPrice || 0) * (item.quantity || 0)).toFixed(2)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-500\",\n              children: [\"$\", (item.bookPrice || 0).toFixed(2), \" each\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => removeItem(item.id),\n              className: \"mt-2 text-red-600 hover:text-red-800 text-sm flex items-center ml-auto\",\n              children: [/*#__PURE__*/_jsxDEV(Trash2, {\n                size: 16,\n                className: \"mr-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 226,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Remove\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 227,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 15\n          }, this)]\n        }, item.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-6 space-y-3 text-sm border-t pt-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-gray-600\",\n            children: \"Subtotal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-medium\",\n            children: [\"$\", totals.subtotal.toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 11\n        }, this), totals.volumeDiscountEligible && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between text-green-600\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Volume Discount (5%)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"-$\", totals.volumeDiscount.toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 13\n        }, this), totals.loyaltyDiscountEligible && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between text-green-600\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Loyalty Discount (10%)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"-$\", totals.loyaltyDiscount.toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-gray-600\",\n            children: \"Shipping\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-medium\",\n            children: [\"$\", totals.shipping.toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between text-lg font-semibold pt-2 border-t border-gray-200\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Total\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"$\", totals.finalTotal.toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-6\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setCheckoutStep(2),\n          disabled: isLoading,\n          className: \"w-full bg-purple-600 text-white py-3 rounded-lg hover:bg-purple-700 transition-colors flex items-center justify-center\",\n          children: [\"Proceed to Checkout\", /*#__PURE__*/_jsxDEV(ChevronRight, {\n            size: 18,\n            className: \"ml-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 7\n    }, this);\n  };\n\n  // The rest of the component stays the same\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white rounded-lg shadow-md p-6\",\n    children: [checkoutStep === 1 && renderCart(), checkoutStep === 2 && renderShipping(), checkoutStep === 3 && renderPayment(), checkoutStep === 4 && renderConfirmation()]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 282,\n    columnNumber: 5\n  }, this);\n}\n_s(Cart, \"P/AmuOjDfVCzFLFy9NiQPGllThg=\", false, function () {\n  return [useNavigate];\n});\n_c = Cart;\nvar _c;\n$RefreshReg$(_c, \"Cart\");","map":{"version":3,"names":["React","useState","useEffect","useContext","useNavigate","Trash2","ShoppingCart","ChevronRight","Plus","Minus","AlertTriangle","CheckCircle","UserContext","CartContext","jsxDEV","_jsxDEV","Cart","_s","user","cartItems","updateCartItemQuantity","removeItem","clearCart","navigate","checkoutStep","setCheckoutStep","shippingInfo","setShippingInfo","address","city","state","zipCode","paymentMethod","setPaymentMethod","isLoading","setIsLoading","orderComplete","setOrderComplete","orderDetails","setOrderDetails","error","setError","calculateTotals","itemCount","reduce","total","item","quantity","subtotal","sum","bookPrice","volumeDiscountEligible","volumeDiscount","loyaltyDiscountEligible","successfulOrderCount","loyaltyDiscount","totalDiscount","shipping","finalTotal","totals","handleShippingSubmit","e","preventDefault","trim","handlePaymentSubmit","processOrder","length","redirectTo","items","map","bookId","orderData","shippingAddress","shippingCity","shippingState","shippingZipCode","response","fetch","method","headers","body","JSON","stringify","credentials","ok","errorData","json","Error","message","orderResult","err","console","renderCart","className","children","size","fileName","_jsxFileName","lineNumber","columnNumber","onClick","bookImageUrl","src","alt","bookTitle","bookAuthor","id","disabled","toFixed","renderShipping","renderPayment","renderConfirmation","_c","$RefreshReg$"],"sources":["C:/Users/ASUS/OneDrive/Desktop/Test/PokheraliDevelopers/pokherali-developers/src/components/Cart.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { Trash2, ShoppingCart, ChevronRight, Plus, Minus, AlertTriangle, CheckCircle } from \"lucide-react\";\r\nimport { UserContext } from \"../contexts/UserContext\";\r\nimport { CartContext } from \"../contexts/CartContext\";\r\n\r\nexport default function Cart() {\r\n  const { user } = useContext(UserContext);\r\n  const { cartItems, updateCartItemQuantity, removeItem, clearCart } = useContext(CartContext);\r\n  const navigate = useNavigate();\r\n  \r\n  const [checkoutStep, setCheckoutStep] = useState(1); // 1: Cart, 2: Shipping, 3: Payment, 4: Confirmation\r\n  const [shippingInfo, setShippingInfo] = useState({\r\n    address: \"\",\r\n    city: \"\",\r\n    state: \"\",\r\n    zipCode: \"\",\r\n  });\r\n  const [paymentMethod, setPaymentMethod] = useState(\"credit-card\");\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [orderComplete, setOrderComplete] = useState(false);\r\n  const [orderDetails, setOrderDetails] = useState(null);\r\n  const [error, setError] = useState(\"\");\r\n\r\n  // Populate shipping info from user profile if available\r\n  useEffect(() => {\r\n    if (user) {\r\n      setShippingInfo({\r\n        address: user.address || \"\",\r\n        city: user.city || \"\",\r\n        state: user.state || \"\",\r\n        zipCode: user.zipCode || \"\",\r\n      });\r\n    }\r\n  }, [user]);\r\n\r\n  // Calculate totals and discounts\r\n  const calculateTotals = () => {\r\n    const itemCount = cartItems.reduce((total, item) => total + (item.quantity || 0), 0);\r\n    const subtotal = cartItems.reduce((sum, item) => sum + ((item.bookPrice || 0) * (item.quantity || 0)), 0);\r\n    \r\n    // Calculate volume discount (5% for 5+ books)\r\n    const volumeDiscountEligible = itemCount >= 5;\r\n    const volumeDiscount = volumeDiscountEligible ? subtotal * 0.05 : 0;\r\n    \r\n    // Calculate loyalty discount (10% for users with 10+ successful orders)\r\n    const loyaltyDiscountEligible = user && user.successfulOrderCount >= 10;\r\n    const loyaltyDiscount = loyaltyDiscountEligible ? subtotal * 0.1 : 0;\r\n    \r\n    const totalDiscount = volumeDiscount + loyaltyDiscount;\r\n    const shipping = subtotal > 0 ? 5.99 : 0;\r\n    const finalTotal = subtotal - totalDiscount + shipping;\r\n    \r\n    return {\r\n      itemCount,\r\n      subtotal,\r\n      volumeDiscountEligible,\r\n      volumeDiscount,\r\n      loyaltyDiscountEligible,\r\n      loyaltyDiscount,\r\n      totalDiscount,\r\n      shipping,\r\n      finalTotal\r\n    };\r\n  };\r\n\r\n  const totals = calculateTotals();\r\n\r\n  const handleShippingSubmit = (e) => {\r\n    e.preventDefault();\r\n    \r\n    // Validate shipping info\r\n    if (!shippingInfo.address.trim()) {\r\n      setError(\"Address is required\");\r\n      return;\r\n    }\r\n    if (!shippingInfo.city.trim()) {\r\n      setError(\"City is required\");\r\n      return;\r\n    }\r\n    if (!shippingInfo.state.trim()) {\r\n      setError(\"State is required\");\r\n      return;\r\n    }\r\n    if (!shippingInfo.zipCode.trim()) {\r\n      setError(\"ZIP code is required\");\r\n      return;\r\n    }\r\n    \r\n    setError(\"\");\r\n    setCheckoutStep(3); // Move to payment step\r\n  };\r\n\r\n  const handlePaymentSubmit = (e) => {\r\n    e.preventDefault();\r\n    processOrder();\r\n  };\r\n\r\n  const processOrder = async () => {\r\n    if (cartItems.length === 0) return;\r\n    \r\n    if (!user) {\r\n      navigate('/login', { state: { redirectTo: '/cart' } });\r\n      return;\r\n    }\r\n    \r\n    setIsLoading(true);\r\n    setError(\"\");\r\n    \r\n    try {\r\n      // Prepare order items\r\n      const items = cartItems.map(item => ({\r\n        bookId: item.bookId,\r\n        quantity: item.quantity\r\n      }));\r\n      \r\n      // Prepare order data\r\n      const orderData = {\r\n        shippingAddress: shippingInfo.address,\r\n        shippingCity: shippingInfo.city,\r\n        shippingState: shippingInfo.state,\r\n        shippingZipCode: shippingInfo.zipCode,\r\n        paymentMethod: paymentMethod,\r\n        items: items\r\n      };\r\n      \r\n      // Submit order to API\r\n      const response = await fetch('https://localhost:7126/api/Orders', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(orderData),\r\n        credentials: 'include' // Include cookies for authentication\r\n      });\r\n      \r\n      if (!response.ok) {\r\n        const errorData = await response.json();\r\n        throw new Error(errorData.message || 'Failed to place order');\r\n      }\r\n      \r\n      const orderResult = await response.json();\r\n      setOrderDetails(orderResult);\r\n      setOrderComplete(true);\r\n      clearCart();\r\n      setCheckoutStep(4); // Move to confirmation step\r\n    } catch (err) {\r\n      setError(err.message || 'An error occurred while placing your order');\r\n      console.error('Order error:', err);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const renderCart = () => {\r\n    if (cartItems.length === 0) {\r\n      return (\r\n        <div className=\"text-center py-8\">\r\n          <ShoppingCart size={48} className=\"mx-auto text-gray-300 mb-4\" />\r\n          <h3 className=\"text-xl font-medium text-gray-900 mb-2\">Your cart is empty</h3>\r\n          <p className=\"text-gray-500 mb-4\">Looks like you haven't added any books to your cart yet.</p>\r\n          <button \r\n            onClick={() => navigate('/browse')}\r\n            className=\"inline-block bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors\"\r\n          >\r\n            Browse Books\r\n          </button>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <h2 className=\"text-xl font-semibold mb-4\">Your Cart ({totals.itemCount} items)</h2>\r\n        \r\n        {error && (\r\n          <div className=\"bg-red-50 text-red-600 p-3 rounded-lg mb-4\">\r\n            {error}\r\n          </div>\r\n        )}\r\n        \r\n        <div className=\"divide-y divide-gray-200\">\r\n          {cartItems.map((item) => (\r\n            <div key={item.id} className=\"py-4 flex items-start gap-4\">\r\n              <div className=\"w-20 h-24 bg-gray-100 rounded overflow-hidden\">\r\n                {item.bookImageUrl ? (\r\n                  <img src={item.bookImageUrl} alt={item.bookTitle} className=\"w-full h-full object-cover\" />\r\n                ) : (\r\n                  <div className=\"w-full h-full flex items-center justify-center bg-gray-200\">\r\n                    <ShoppingCart size={24} className=\"text-gray-400\" />\r\n                  </div>\r\n                )}\r\n              </div>\r\n              \r\n              <div className=\"flex-1\">\r\n                <h3 className=\"font-medium text-gray-900\">{item.bookTitle || \"Untitled Book\"}</h3>\r\n                <p className=\"text-sm text-gray-500\">{item.bookAuthor || \"Unknown Author\"}</p>\r\n                <div className=\"flex items-center mt-2\">\r\n                  <button\r\n                    onClick={() => updateCartItemQuantity(item.id, item.quantity - 1)}\r\n                    disabled={item.quantity <= 1}\r\n                    className={`w-8 h-8 flex items-center justify-center border rounded-md ${\r\n                      item.quantity <= 1 ? 'bg-gray-100 text-gray-400' : 'bg-white text-gray-600 hover:bg-gray-50'\r\n                    }`}\r\n                  >\r\n                    <Minus size={16} />\r\n                  </button>\r\n                  <span className=\"mx-3 font-medium\">{item.quantity || 0}</span>\r\n                  <button\r\n                    onClick={() => updateCartItemQuantity(item.id, item.quantity + 1)}\r\n                    disabled={item.quantity >= 10}\r\n                    className=\"w-8 h-8 flex items-center justify-center border rounded-md bg-white text-gray-600 hover:bg-gray-50\"\r\n                  >\r\n                    <Plus size={16} />\r\n                  </button>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"text-right\">\r\n                <p className=\"font-medium text-gray-900\">${((item.bookPrice || 0) * (item.quantity || 0)).toFixed(2)}</p>\r\n                <p className=\"text-sm text-gray-500\">${(item.bookPrice || 0).toFixed(2)} each</p>\r\n                <button\r\n                  onClick={() => removeItem(item.id)}\r\n                  className=\"mt-2 text-red-600 hover:text-red-800 text-sm flex items-center ml-auto\"\r\n                >\r\n                  <Trash2 size={16} className=\"mr-1\" />\r\n                  <span>Remove</span>\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n        \r\n        <div className=\"mt-6 space-y-3 text-sm border-t pt-4\">\r\n          <div className=\"flex justify-between\">\r\n            <span className=\"text-gray-600\">Subtotal</span>\r\n            <span className=\"font-medium\">${totals.subtotal.toFixed(2)}</span>\r\n          </div>\r\n          \r\n          {totals.volumeDiscountEligible && (\r\n            <div className=\"flex justify-between text-green-600\">\r\n              <span>Volume Discount (5%)</span>\r\n              <span>-${totals.volumeDiscount.toFixed(2)}</span>\r\n            </div>\r\n          )}\r\n          \r\n          {totals.loyaltyDiscountEligible && (\r\n            <div className=\"flex justify-between text-green-600\">\r\n              <span>Loyalty Discount (10%)</span>\r\n              <span>-${totals.loyaltyDiscount.toFixed(2)}</span>\r\n            </div>\r\n          )}\r\n          \r\n          <div className=\"flex justify-between\">\r\n            <span className=\"text-gray-600\">Shipping</span>\r\n            <span className=\"font-medium\">${totals.shipping.toFixed(2)}</span>\r\n          </div>\r\n          \r\n          <div className=\"flex justify-between text-lg font-semibold pt-2 border-t border-gray-200\">\r\n            <span>Total</span>\r\n            <span>${totals.finalTotal.toFixed(2)}</span>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"mt-6\">\r\n          <button\r\n            onClick={() => setCheckoutStep(2)}\r\n            disabled={isLoading}\r\n            className=\"w-full bg-purple-600 text-white py-3 rounded-lg hover:bg-purple-700 transition-colors flex items-center justify-center\"\r\n          >\r\n            Proceed to Checkout\r\n            <ChevronRight size={18} className=\"ml-1\" />\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // The rest of the component stays the same\r\n  \r\n  return (\r\n    <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n      {/* Display different content based on checkout step */}\r\n      {checkoutStep === 1 && renderCart()}\r\n      {checkoutStep === 2 && renderShipping()}\r\n      {checkoutStep === 3 && renderPayment()}\r\n      {checkoutStep === 4 && renderConfirmation()}\r\n    </div>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}